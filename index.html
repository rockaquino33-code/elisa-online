<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elisa OS 3.2 Final</title>
<style>
    * {margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', sans-serif;}
    html, body {width:100%; height:100%; overflow:hidden; background:#0a0a0f;}
    #desktop {
        width:100%;
        height:100%;
        background: url('https://i.imgur.com/7GxO6Qj.jpg') no-repeat center center fixed;
        background-size: cover;
        position: relative;
    }
    .icon {
        width:80px;
        text-align:center;
        position:absolute;
        cursor:grab;
        color:#fff;
        font-size:12px;
        transition: transform 0.2s;
        z-index:5;
    }
    .icon img {width:64px; height:64px;}
    .icon.dragging {opacity:0.7; transform: scale(1.1);}
    .window {
        position:absolute;
        width:600px;
        height:400px;
        background: rgba(15,15,20,0.95);
        border: 2px solid rgba(0,120,255,0.5);
        border-radius:10px;
        box-shadow: 0 0 20px rgba(0,120,255,0.4);
        display:none;
        z-index:10;
        overflow:hidden;
    }
    .window-header {
        background: rgba(0,120,255,0.3);
        padding:5px;
        cursor:grab;
        display:flex;
        justify-content:space-between;
        align-items:center;
    }
    .window-header .title {color:#fff; font-weight:bold;}
    .window-header .close {
        width:20px; height:20px;
        text-align:center;
        line-height:20px;
        cursor:pointer;
        color:#fff;
        background: rgba(255,0,0,0.7);
        border-radius:50%;
    }
    .window-content {
        width:100%;
        height: calc(100% - 30px);
        background:#111;
        color:#fff;
        overflow:auto;
        padding:10px;
    }
    #taskbar {
        position:absolute;
        bottom:0;
        width:100%;
        height:40px;
        background: rgba(10,10,15,0.9);
        display:flex;
        align-items:center;
        padding:0 10px;
        justify-content:space-between;
        border-top:1px solid rgba(0,120,255,0.4);
        color:#fff;
    }
    #taskbar .left, #taskbar .right {display:flex; align-items:center;}
    #taskbar .task-icon {
        width:32px; height:32px;
        margin-right:5px;
        cursor:pointer;
    }
    #taskbar .system-icon {
        width:32px; height:32px;
        margin-left:5px;
        cursor:pointer;
    }
    #start-menu {
        position:absolute;
        bottom:40px;
        left:10px;
        width:200px;
        background: rgba(10,10,15,0.95);
        border:1px solid rgba(0,120,255,0.5);
        border-radius:10px;
        display:none;
        flex-direction:column;
        color:#fff;
        padding:10px;
    }
    #start-menu .start-item {
        padding:5px;
        cursor:pointer;
        border-radius:5px;
        transition:background 0.2s;
    }
    #start-menu .start-item:hover {background: rgba(0,120,255,0.3);}
</style>
</head>
<body>
<div id="desktop">
    <!-- Ícones desktop -->
    <div class="icon" id="icon-elisa" style="top:20px; left:20px;">
        <img src="https://i.imgur.com/zJ4qj5U.png" alt="Elisa"><br>Elisa
    </div>
    <div class="icon" id="icon-browser" style="top:20px; left:120px;">
        <img src="https://i.imgur.com/6dQj3Lp.png" alt="Browser"><br>Navegador
    </div>
    <div class="icon" id="icon-word" style="top:20px; left:220px;">
        <img src="https://i.imgur.com/9R5dF3l.png" alt="Word"><br>Word
    </div>
    <div class="icon" id="icon-notes" style="top:120px; left:20px;">
        <img src="https://i.imgur.com/5fXOlrL.png" alt="Bloco de notas"><br>Notas
    </div>
    <div class="icon" id="icon-pdf" style="top:120px; left:120px;">
        <img src="https://i.imgur.com/G3eWf52.png" alt="PDF"><br>PDF
    </div>
    <div class="icon" id="icon-emulator" style="top:120px; left:220px;">
        <img src="https://i.imgur.com/fmWUvH3.png" alt="Emulador"><br>Emulador
    </div>

    <!-- Janelas -->
    <div class="window" id="win-elisa">
        <div class="window-header"><span class="title">Elisa</span><span class="close">×</span></div>
        <div class="window-content" id="elisa-content" contenteditable="true">Olá! Pergunte algo à Elisa...</div>
    </div>
    <div class="window" id="win-browser">
        <div class="window-header"><span class="title">Navegador</span><span class="close">×</span></div>
        <div class="window-content">
            <iframe id="iframe-browser" src="https://www.google.com" style="width:100%; height:100%; border:none;"></iframe>
        </div>
    </div>
    <div class="window" id="win-word">
        <div class="window-header"><span class="title">Word</span><span class="close">×</span></div>
        <div class="window-content" contenteditable="true"></div>
    </div>
    <div class="window" id="win-notes">
        <div class="window-header"><span class="title">Bloco de Notas</span><span class="close">×</span></div>
        <div class="window-content" contenteditable="true"></div>
    </div>
    <div class="window" id="win-pdf">
        <div class="window-header"><span class="title">PDF</span><span class="close">×</span></div>
        <div class="window-content">PDF Viewer Placeholder</div>
    </div>
    <div class="window" id="win-emulator">
        <div class="window-header"><span class="title">Emulador</span><span class="close">×</span></div>
        <div class="window-content">Emulador Placeholder</div>
    </div>

    <!-- Barra de tarefas -->
    <div id="taskbar">
        <div class="left">
            <img src="https://i.imgur.com/zJ4qj5U.png" id="btn-start" class="task-icon" alt="Start">
        </div>
        <div class="right">
            <span id="time" style="margin-right:10px;"></span>
            <img src="https://i.imgur.com/E3H7wJS.png" class="system-icon" alt="Volume" id="vol-btn">
            <img src="https://i.imgur.com/K0t9c6H.png" class="system-icon" alt="Internet">
        </div>
    </div>

    <!-- Start Menu -->
    <div id="start-menu">
        <div class="start-item" data-win="win-browser">Navegador</div>
        <div class="start-item" data-win="win-word">Word</div>
        <div class="start-item" data-win="win-notes">Bloco de Notas</div>
        <div class="start-item" data-win="win-pdf">PDF</div>
        <div class="start-item" data-win="win-emulator">Emulador</div>
        <div class="start-item" data-win="win-elisa">Elisa</div>
    </div>
</div>

<script>
    // Atualizar hora
    function updateTime() {
        const now = new Date();
        document.getElementById('time').innerText = now.toLocaleTimeString();
    }
    setInterval(updateTime,1000);
    updateTime();

    // Janelas
    const windows = document.querySelectorAll('.window');
    const icons = document.querySelectorAll('.icon');
    icons.forEach(icon=>{
        icon.addEventListener('dblclick',()=> {
            const win = document.getElementById('win-' + icon.id.split('-')[1]);
            if(win) win.style.display='block';
        });
    });
    document.querySelectorAll('.close').forEach(btn=>{
        btn.addEventListener('click',()=>btn.parentElement.parentElement.style.display='none');
    });

    // Drag windows
    windows.forEach(win=>{
        const header = win.querySelector('.window-header');
        header.addEventListener('mousedown', e=>{
            let shiftX = e.clientX - win.getBoundingClientRect().left;
            let shiftY = e.clientY - win.getBoundingClientRect().top;
            function moveAt(pageX,pageY){
                win.style.left=pageX-shiftX+'px';
                win.style.top=pageY-shiftY+'px';
            }
            function onMouseMove(e){ moveAt(e.pageX,e.pageY); }
            document.addEventListener('mousemove',onMouseMove);
            document.addEventListener('mouseup',()=>document.removeEventListener('mousemove',onMouseMove),{once:true});
        });
        header.ondragstart = ()=>false;
    });

    // Drag desktop icons + flexibilidade
    icons.forEach(icon=>{
        icon.addEventListener('mousedown', e=>{
            let shiftX = e.clientX - icon.getBoundingClientRect().left;
            let shiftY = e.clientY - icon.getBoundingClientRect().top;
            icon.classList.add('dragging');
            function moveAt(pageX,pageY){icon.style.left=pageX-shiftX+'px'; icon.style.top=pageY-shiftY+'px';}
            function onMouseMove(e){ moveAt(e.pageX,e.pageY); }
            document.addEventListener('mousemove',onMouseMove);
            document.addEventListener('mouseup',()=>{
                icon.classList.remove('dragging');
                document.removeEventListener('mousemove',onMouseMove);
            },{once:true});
        });
        icon.ondragstart = ()=>false;
    });

    // Start menu toggle
    const btnStart = document.getElementById('btn-start');
    const startMenu = document.getElementById('start-menu');
    btnStart.addEventListener('click',()=>{startMenu.style.display = startMenu.style.display==='flex'?'none':'flex';});
    document.querySelectorAll('#start-menu .start-item').forEach(item=>{
        item.addEventListener('click',()=>{
            const win = document.getElementById(item.dataset.win);
            if(win) win.style.display='block';
        });
    });

    // Elisa API placeholder
    const elisaContent = document.getElementById('elisa-content');
    function askElisa(question){
        elisaContent.innerHTML += `<div><b>Você:</b> ${question}</div>`;
        setTimeout(()=>{
            elisaContent.innerHTML += `<div><b>Elisa:</b> Resposta de teste</div>`;
            elisaContent.scrollTop = elisaContent.scrollHeight;
        },1000);
    }
    elisaContent.addEventListener('keydown', e=>{
        if(e.key==='Enter'){
            e.preventDefault();
            askElisa(elisaContent.innerText.trim());
            elisaContent.innerText='';
        }
    });

</script>
</body>
</html>
